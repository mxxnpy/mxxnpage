import{i as E}from"./chunk-4V65GM6N.js";import{b as x,c as P}from"./chunk-US6OTPOF.js";import"./chunk-4ORIN4ZF.js";import{$a as v,Ba as C,Fa as _,Ga as I,Ia as d,Oa as a,P as b,Qa as i,Ra as r,Sa as p,Va as m,Za as c,_a as h,aa as f,ba as g,nb as S,ob as w,pb as y,va as u,xa as o}from"./chunk-IQDRMDVL.js";var k=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=I({type:e});static \u0275inj=b({imports:[E]})}return e})();function N(e,l){e&1&&(i(0,"div",3),f(),i(1,"svg",4)(2,"path",5),p(3,"animateTransform",6),r()(),g(),i(4,"span"),c(5,"Loading top tracks..."),r()())}function z(e,l){if(e&1&&(i(0,"div",7),c(1),r()),e&2){let t=m();o(),v(" ",t.error," ")}}function F(e,l){e&1&&(i(0,"div",3),c(1," No top tracks found "),r())}function L(e,l){if(e&1&&(i(0,"div",20),p(1,"img",21),r()),e&2){let t=m().$implicit;o(),a("src",t.albumArt,u)("alt",t.name)}}function D(e,l){if(e&1&&(i(0,"a",22),f(),i(1,"svg",23),p(2,"path",24),r()()),e&2){let t=m().$implicit;a("href",t.url,u)}}function R(e,l){if(e&1&&(i(0,"div",13)(1,"div",14),c(2),r(),d(3,L,2,2,"div",15),i(4,"div",16)(5,"div",17),c(6),r(),i(7,"div",18),c(8),r()(),d(9,D,3,1,"a",19),r()),e&2){let t=l.$implicit,n=l.index;o(2),h(n+1),o(),a("ngIf",t.albumArt),o(3),h(t.name),o(2),h(t.artist),o(),a("ngIf",t.url)}}function B(e,l){if(e&1&&(i(0,"div")(1,"div",8),f(),i(2,"svg",9),p(3,"path",10),r(),g(),i(4,"span"),c(5,"Top Tracks"),r()(),i(6,"div",11),d(7,R,10,5,"div",12),r()()),e&2){let t=m();o(7),a("ngForOf",t.tracks)}}var O=(()=>{class e{constructor(t){this.spotifyService=t,this.tracks=[],this.loading=!0,this.error=null}ngOnInit(){this.loadTopTracks()}loadTopTracks(){this.loading=!0,this.error=null,this.spotifyService.getTopItems("tracks","short_term",10).subscribe({next:t=>{t&&t.items&&(this.tracks=t.items.map(n=>({name:n.name,artist:n.artists.map(s=>s.name).join(", "),albumArt:n.album?.images?.[0]?.url,url:n.external_urls?.spotify,duration:n.duration_ms}))),this.loading=!1},error:t=>{console.error("Error loading top tracks:",t),t.status===401?(this.error="Authentication required",window.location.href=`${window.location.origin.replace("4202","3000")}/backend/spotify/auth/login`):this.error="Failed to load top tracks",this.loading=!1}})}static{this.\u0275fac=function(n){return new(n||e)(C(x))}}static{this.\u0275cmp=_({type:e,selectors:[["app-spotify-top-tracks"]],decls:4,vars:4,consts:[["class","status-item",4,"ngIf"],["class","status-item error",4,"ngIf"],[4,"ngIf"],[1,"status-item"],["viewBox","0 0 24 24","width","16","height","16",1,"icon"],["fill","currentColor","d","M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z"],["attributeName","transform","attributeType","XML","type","rotate","from","0 12 12","to","360 12 12","dur","1s","repeatCount","indefinite"],[1,"status-item","error"],[1,"now-playing-header"],["viewBox","0 0 24 24","width","24","height","24",1,"icon"],["fill","currentColor","d","M12,3V12.26C11.5,12.09 11,12 10.5,12C8.56,12 7,13.56 7,15.5C7,17.44 8.56,19 10.5,19C12.44,19 14,17.44 14,15.5V6H18V3H12Z"],[1,"tracks-list"],["class","track-item",4,"ngFor","ngForOf"],[1,"track-item"],[1,"track-rank"],["class","track-image",4,"ngIf"],[1,"track-info"],[1,"track-name"],[1,"track-artist"],["target","_blank","class","track-link",3,"href",4,"ngIf"],[1,"track-image"],[3,"src","alt"],["target","_blank",1,"track-link",3,"href"],["viewBox","0 0 24 24","width","16","height","16"],["fill","currentColor","d","M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z"]],template:function(n,s){n&1&&d(0,N,6,0,"div",0)(1,z,2,1,"div",1)(2,F,2,0,"div",0)(3,B,8,1,"div",2),n&2&&(a("ngIf",s.loading),o(),a("ngIf",s.error),o(),a("ngIf",!s.loading&&!s.error&&s.tracks.length===0),o(),a("ngIf",!s.loading&&!s.error&&s.tracks.length>0))},dependencies:[y,S,w,k],styles:[".tracks-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-top:16px;max-width:650px}.track-item[_ngcontent-%COMP%]{display:flex;align-items:center;background:#ffffff05;border-radius:4px;padding:12px}.track-rank[_ngcontent-%COMP%]{width:24px;opacity:.6;font-size:14px;text-align:center;margin-right:12px}.track-image[_ngcontent-%COMP%]{width:50px;height:50px;margin-right:16px;border-radius:4px;overflow:hidden}.track-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.track-info[_ngcontent-%COMP%]{flex:1;min-width:0}.track-name[_ngcontent-%COMP%]{font-weight:500;font-size:14px;margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.track-artist[_ngcontent-%COMP%]{font-size:13px;opacity:.6;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.track-link[_ngcontent-%COMP%]{color:#f4d03f;border:none;display:inline-flex;align-items:center;margin-left:16px;opacity:.9;transition:opacity .2s}.track-link[_ngcontent-%COMP%]:hover{opacity:1}"]})}}return e})();function W(e,l){e&1&&(i(0,"div",3),f(),i(1,"svg",4)(2,"path",5),p(3,"animateTransform",6),r()(),g(),i(4,"span"),c(5,"Loading top artists..."),r()())}function $(e,l){if(e&1&&(i(0,"div",7),c(1),r()),e&2){let t=m();o(),v(" ",t.error," ")}}function j(e,l){e&1&&(i(0,"div",3),c(1," No top artists found "),r())}function G(e,l){if(e&1&&(i(0,"div",20),c(1),r()),e&2){let t=m().$implicit;o(),v(" ",t.genres.slice(0,2).join(", ")," ")}}function U(e,l){if(e&1&&(i(0,"a",21),c(1," Open in Spotify "),r()),e&2){let t=m().$implicit;a("href",t.url,u)}}function Z(e,l){if(e&1&&(i(0,"div",13)(1,"div",14),p(2,"img",15),r(),i(3,"div",16)(4,"div",17),c(5),r(),d(6,G,2,1,"div",18)(7,U,2,1,"a",19),r()()),e&2){let t=l.$implicit;o(2),a("src",t.image,u)("alt",t.name),o(3),h(t.name),o(),a("ngIf",t.genres&&t.genres.length>0),o(),a("ngIf",t.url)}}function q(e,l){if(e&1&&(i(0,"div")(1,"div",8),f(),i(2,"svg",9),p(3,"path",10),r(),g(),i(4,"span"),c(5,"Top Artists"),r()(),i(6,"div",11),d(7,Z,8,5,"div",12),r()()),e&2){let t=m();o(7),a("ngForOf",t.artists)}}var V=(()=>{class e{constructor(t){this.spotifyService=t,this.artists=[],this.loading=!0,this.error=null}ngOnInit(){this.loadTopArtists()}loadTopArtists(){this.loading=!0,this.error=null,this.spotifyService.getTopItems("artists","short_term",6).subscribe({next:t=>{t&&t.items&&(this.artists=t.items.map(n=>({name:n.name,image:n.images?.[0]?.url,genres:n.genres,url:n.external_urls?.spotify,popularity:n.popularity}))),this.loading=!1},error:t=>{console.error("Error loading top artists:",t),t.status===401?(this.error="Authentication required",window.location.href=`${window.location.origin.replace("4202","3000")}/backend/spotify/auth/login`):this.error="Failed to load top artists",this.loading=!1}})}static{this.\u0275fac=function(n){return new(n||e)(C(x))}}static{this.\u0275cmp=_({type:e,selectors:[["app-spotify-top-artists"]],decls:4,vars:4,consts:[["class","status-item",4,"ngIf"],["class","status-item error",4,"ngIf"],[4,"ngIf"],[1,"status-item"],["viewBox","0 0 24 24","width","16","height","16",1,"icon"],["fill","currentColor","d","M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z"],["attributeName","transform","attributeType","XML","type","rotate","from","0 12 12","to","360 12 12","dur","1s","repeatCount","indefinite"],[1,"status-item","error"],[1,"now-playing-header"],["viewBox","0 0 24 24","width","24","height","24",1,"icon"],["fill","currentColor","d","M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M10,16.5L16,12L10,7.5V16.5Z"],[1,"artists-grid"],["class","artist-card",4,"ngFor","ngForOf"],[1,"artist-card"],[1,"artist-image"],[3,"src","alt"],[1,"artist-info"],[1,"artist-name"],["class","artist-genres",4,"ngIf"],["target","_blank","class","artist-link",3,"href",4,"ngIf"],[1,"artist-genres"],["target","_blank",1,"artist-link",3,"href"]],template:function(n,s){n&1&&d(0,W,6,0,"div",0)(1,$,2,1,"div",1)(2,j,2,0,"div",0)(3,q,8,1,"div",2),n&2&&(a("ngIf",s.loading),o(),a("ngIf",s.error),o(),a("ngIf",!s.loading&&!s.error&&s.artists.length===0),o(),a("ngIf",!s.loading&&!s.error&&s.artists.length>0))},dependencies:[y,S,w,k],styles:[".artists-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-top:16px;max-width:650px}.artist-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:#ffffff05;border-radius:4px;overflow:hidden}.artist-image[_ngcontent-%COMP%]{width:100%;aspect-ratio:1;overflow:hidden}.artist-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.artist-info[_ngcontent-%COMP%]{padding:12px;display:flex;flex-direction:column}.artist-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.artist-genres[_ngcontent-%COMP%]{font-size:12px;opacity:.6;margin-bottom:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.artist-link[_ngcontent-%COMP%]{color:#f4d03f;opacity:.9;transition:opacity .2s;text-decoration:none;font-size:12px;margin-top:4px}.artist-link[_ngcontent-%COMP%]:hover{opacity:1}@media (max-width: 600px){.artists-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}"]})}}return e})();function Q(e,l){e&1&&(i(0,"div",3),f(),i(1,"svg",4)(2,"path",5),p(3,"animateTransform",6),r()(),g(),i(4,"span"),c(5,"Loading playlists..."),r()())}function X(e,l){if(e&1&&(i(0,"div",7),c(1),r()),e&2){let t=m();o(),v(" ",t.error," ")}}function Y(e,l){e&1&&(i(0,"div",3),c(1," No playlists found "),r())}function K(e,l){if(e&1&&(i(0,"div",20),c(1),r()),e&2){let t=m().$implicit;o(),v(" ",t.trackCount," tracks ")}}function J(e,l){if(e&1&&(i(0,"a",21),c(1," Open in Spotify "),r()),e&2){let t=m().$implicit;a("href",t.url,u)}}function ee(e,l){if(e&1&&(i(0,"div",13)(1,"div",14),p(2,"img",15),r(),i(3,"div",16)(4,"div",17),c(5),r(),d(6,K,2,1,"div",18)(7,J,2,1,"a",19),r()()),e&2){let t=l.$implicit;o(2),a("src",t.image||"assets/icons/spotify.svg",u)("alt",t.name),o(3),h(t.name),o(),a("ngIf",t.trackCount!==void 0),o(),a("ngIf",t.url)}}function te(e,l){if(e&1&&(i(0,"div")(1,"div",8),f(),i(2,"svg",9),p(3,"path",10),r(),g(),i(4,"span"),c(5,"Playlists"),r()(),i(6,"div",11),d(7,ee,8,5,"div",12),r()()),e&2){let t=m();o(7),a("ngForOf",t.playlists)}}var H=(()=>{class e{constructor(t){this.spotifyService=t,this.playlists=[],this.loading=!0,this.error=null}ngOnInit(){this.loadPlaylists()}loadPlaylists(){this.loading=!0,this.error=null,this.spotifyService.getPlaylists().subscribe({next:t=>{t&&t.items&&(this.playlists=t.items.map(n=>({name:n.name,image:n.images?.[0]?.url,url:n.external_urls?.spotify,trackCount:n.tracks?.total,owner:n.owner?.display_name}))),this.loading=!1},error:t=>{console.error("Error loading playlists:",t),t.status===401?(this.error="Authentication required",window.location.href=`${window.location.origin.replace("4202","3000")}/backend/spotify/auth/login`):this.error="Failed to load playlists",this.loading=!1}})}static{this.\u0275fac=function(n){return new(n||e)(C(x))}}static{this.\u0275cmp=_({type:e,selectors:[["app-spotify-playlists"]],decls:4,vars:4,consts:[["class","status-item",4,"ngIf"],["class","status-item error",4,"ngIf"],[4,"ngIf"],[1,"status-item"],["viewBox","0 0 24 24","width","16","height","16",1,"icon"],["fill","currentColor","d","M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z"],["attributeName","transform","attributeType","XML","type","rotate","from","0 12 12","to","360 12 12","dur","1s","repeatCount","indefinite"],[1,"status-item","error"],[1,"now-playing-header"],["viewBox","0 0 24 24","width","24","height","24",1,"icon"],["fill","currentColor","d","M15,6H3V8H15V6M15,10H3V12H15V10M3,16H11V14H3V16M17,6V14.18C16.69,14.07 16.35,14 16,14A3,3 0 0,0 13,17A3,3 0 0,0 16,20A3,3 0 0,0 19,17V8H22V6H17Z"],[1,"playlists-grid"],["class","playlist-card",4,"ngFor","ngForOf"],[1,"playlist-card"],[1,"playlist-image"],[3,"src","alt"],[1,"playlist-info"],[1,"playlist-name"],["class","playlist-tracks",4,"ngIf"],["target","_blank","class","playlist-link",3,"href",4,"ngIf"],[1,"playlist-tracks"],["target","_blank",1,"playlist-link",3,"href"]],template:function(n,s){n&1&&d(0,Q,6,0,"div",0)(1,X,2,1,"div",1)(2,Y,2,0,"div",0)(3,te,8,1,"div",2),n&2&&(a("ngIf",s.loading),o(),a("ngIf",s.error),o(),a("ngIf",!s.loading&&!s.error&&s.playlists.length===0),o(),a("ngIf",!s.loading&&!s.error&&s.playlists.length>0))},dependencies:[y,S,w,k],styles:[".playlists-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-top:16px;max-width:650px}.playlist-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:#ffffff05;border-radius:4px;overflow:hidden}.playlist-image[_ngcontent-%COMP%]{width:100%;aspect-ratio:1;overflow:hidden}.playlist-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.playlist-info[_ngcontent-%COMP%]{padding:12px;display:flex;flex-direction:column}.playlist-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.playlist-tracks[_ngcontent-%COMP%]{font-size:12px;opacity:.6;margin-bottom:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.playlist-link[_ngcontent-%COMP%]{color:#f4d03f;opacity:.9;transition:opacity .2s;text-decoration:none;font-size:12px;margin-top:4px}.playlist-link[_ngcontent-%COMP%]:hover{opacity:1}@media (max-width: 600px){.playlists-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}"]})}}return e})();var Ne=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=_({type:e,selectors:[["app-spotify"]],decls:10,vars:0,consts:[[1,"page-title"],[1,"spotify-section"]],template:function(n,s){n&1&&(i(0,"h1",0),c(1,"Spotify"),r(),i(2,"section",1),p(3,"app-spotify-player"),r(),i(4,"section",1),p(5,"app-spotify-top-tracks"),r(),i(6,"section",1),p(7,"app-spotify-top-artists"),r(),i(8,"section",1),p(9,"app-spotify-playlists"),r())},dependencies:[y,P,O,V,H],styles:[".page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:1.5rem;letter-spacing:-.03em}.spotify-section[_ngcontent-%COMP%]{margin-bottom:2.5rem}@media (max-width: 650px){.page-title[_ngcontent-%COMP%]{font-size:1.75rem;margin-bottom:1.25rem}.spotify-section[_ngcontent-%COMP%]{margin-bottom:2rem}}"]})}}return e})();export{Ne as SpotifyComponent};
