import{b as T}from"./chunk-OR5MNDKC.js";import{a as b,c as D}from"./chunk-T6DZQLI2.js";import{a as I}from"./chunk-ULIIORT5.js";import{a as x}from"./chunk-RTN6BW2H.js";import{A,La as a,Pa as g,Pb as M,R as u,Ta as d,Vb as f,W as L,Wa as h,ab as s,da as C,eb as r,fb as o,gb as c,mb as m,n as y,ub as l,vb as v,wb as _,y as S}from"./chunk-MR52UAL5.js";var W=(()=>{class t{constructor(e){this.http=e,this.apiUrl=I.apiUrl+"/weather"}getCurrentWeather(e="S\xE3o Paulo",i="BR"){return this.http.get(`${this.apiUrl}/current`,{params:{city:e,country:i}}).pipe(A(n=>(console.error("Error fetching weather data:",n),y(this.getMockWeatherData()))))}getMockWeatherData(){return{coord:{lon:-46.6333,lat:-23.5478},weather:[{id:801,main:"Clouds",description:"few clouds",icon:"02d"}],base:"stations",main:{temp:25.2,feels_like:25.4,temp_min:23.9,temp_max:26.7,pressure:1015,humidity:65},visibility:1e4,wind:{speed:3.6,deg:140},clouds:{all:20},dt:1616782800,sys:{type:1,id:8394,country:"BR",sunrise:1616752347,sunset:1616795553},timezone:-10800,id:3448439,name:"S\xE3o Paulo",cod:200}}static{this.\u0275fac=function(i){return new(i||t)(L(x))}}static{this.\u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function $(t,p){t&1&&(C(),c(0,"path",8))}function U(t,p){t&1&&(C(),c(0,"path",9))}function F(t,p){t&1&&(C(),c(0,"path",10))}function G(t,p){t&1&&(C(),c(0,"path",11))}function Z(t,p){if(t&1&&(r(0,"p",2),C(),r(1,"svg",3),h(2,$,1,0,"path",4)(3,U,1,0,"path",5)(4,F,1,0,"path",6)(5,G,1,0,"path",7),o(),l(6),o()),t&2){let e=m();a(2),s("ngIf",e.weatherIcon==="clear"),a(),s("ngIf",e.weatherIcon==="clouds"),a(),s("ngIf",e.weatherIcon==="rain"),a(),s("ngIf",e.weatherIcon==="snow"),a(),_(" ",e.weatherText," ")}}function B(t,p){t&1&&(r(0,"p",2),l(1,"Loading weather data..."),o())}function O(t,p){if(t&1&&(r(0,"p",12),l(1),o()),t&2){let e=m();a(),v(e.error)}}var V=(()=>{class t{constructor(e){this.weatherService=e,this.weatherText="",this.weatherIcon="clear",this.loading=!0,this.error=null}ngOnInit(){this.getWeather()}getWeather(){this.loading=!0,this.error=null,this.weatherService.getCurrentWeather("S\xE3o Paulo","BR").subscribe({next:e=>{if(e){let i=Math.round(e.main.temp),n=e.weather[0].description;this.weatherText=`${i}\xB0C and ${n} in S\xE3o Paulo`,this.setWeatherIcon(e.weather[0].main)}this.loading=!1},error:e=>{console.error("Error fetching weather:",e),this.error="Failed to load weather data",this.loading=!1}})}setWeatherIcon(e){let i=e.toLowerCase();i.includes("clear")?this.weatherIcon="clear":i.includes("cloud")?this.weatherIcon="clouds":i.includes("rain")||i.includes("drizzle")?this.weatherIcon="rain":i.includes("snow")?this.weatherIcon="snow":this.weatherIcon="clear"}static{this.\u0275fac=function(i){return new(i||t)(g(W))}}static{this.\u0275cmp=d({type:t,selectors:[["app-weather"]],decls:3,vars:3,consts:[["class","status-item",4,"ngIf"],["class","status-item error",4,"ngIf"],[1,"status-item"],["viewBox","0 0 24 24","width","24","height","24",1,"icon"],["fill","currentColor","d","M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,2L14.39,5.42C13.65,5.15 12.84,5 12,5C11.16,5 10.35,5.15 9.61,5.42L12,2M3.34,7L7.5,6.65C6.9,7.16 6.36,7.78 5.94,8.5C5.5,9.24 5.25,10 5.11,10.79L3.34,7M3.36,17L5.12,13.23C5.26,14 5.53,14.78 5.95,15.5C6.37,16.24 6.91,16.86 7.5,17.37L3.36,17M20.65,7L18.88,10.79C18.74,10 18.47,9.23 18.05,8.5C17.63,7.78 17.1,7.15 16.5,6.64L20.65,7M20.64,17L16.5,17.36C17.09,16.85 17.62,16.22 18.04,15.5C18.46,14.77 18.73,14 18.87,13.21L20.64,17M12,22L9.59,18.56C10.33,18.83 11.14,19 12,19C12.82,19 13.63,18.83 14.37,18.56L12,22Z",4,"ngIf"],["fill","currentColor","d","M19.19,12.07C19.69,11.54 20,10.82 20,10C20,8.3 18.7,6.84 17,6.84C16.93,6.84 16.86,6.84 16.79,6.85C16.27,4.68 14.34,3 12,3C9.66,3 7.73,4.68 7.21,6.85C7.14,6.84 7.07,6.84 7,6.84C5.3,6.84 4,8.3 4,10C4,10.82 4.31,11.54 4.81,12.07C3.17,12.25 2,13.54 2,15C2,16.65 3.35,18 5,18H19C20.65,18 22,16.65 22,15C22,13.54 20.82,12.25 19.19,12.07M19,16H5C4.45,16 4,15.55 4,15C4,14.45 4.45,14 5,14H6.13C6.76,14 7.29,13.47 7.29,12.83C7.29,12.25 6.88,11.76 6.3,11.7C5.87,11.65 5.53,11.37 5.37,11C5.21,10.57 5.29,10.08 5.62,9.76C5.93,9.45 6.44,9.36 6.87,9.57C7.38,9.82 8.12,9.67 8.29,9.25C8.58,8.58 8.91,7.29 10.17,7.05C11.92,6.72 12.94,7.33 13.29,8.22C13.64,9.1 13.18,10.14 12.79,10.8C12.5,11.29 12.56,11.85 12.77,12.26C13.04,12.79 13.62,13 14.2,13H19C19.55,13 20,13.45 20,14C20,14.55 19.55,15 19,15",4,"ngIf"],["fill","currentColor","d","M9,12C9.53,12.14 9.85,12.69 9.71,13.22L8.41,18.05C8.27,18.59 7.72,18.9 7.19,18.76C6.65,18.62 6.34,18.07 6.5,17.54L7.78,12.71C7.93,12.17 8.47,11.86 9,12M13,12C13.53,12.14 13.85,12.69 13.71,13.22L11.64,20.95C11.5,21.5 10.95,21.8 10.41,21.66C9.88,21.5 9.56,20.97 9.7,20.43L11.78,12.71C11.93,12.17 12.47,11.86 13,12M17,12C17.53,12.14 17.85,12.69 17.71,13.22L16.41,18.05C16.27,18.59 15.72,18.9 15.19,18.76C14.65,18.62 14.34,18.07 14.5,17.54L15.78,12.71C15.93,12.17 16.47,11.86 17,12M17,10V9A5,5 0 0,0 12,4C9.5,4 7.45,5.82 7.06,8.19C6.73,8.07 6.37,8 6,8A3,3 0 0,0 3,11C3,12.11 3.6,13.08 4.5,13.6V13.59C5,13.87 5.14,14.5 4.87,14.96C4.59,15.43 4,15.6 3.5,15.32V15.33C2,14.47 1,12.85 1,11A5,5 0 0,1 6,6C7,3.65 9.3,2 12,2C15.43,2 18.24,4.66 18.5,8.03L19,8A4,4 0 0,1 23,12C23,13.5 22.2,14.77 21,15.46V15.46C20.5,15.73 19.91,15.57 19.63,15.09C19.36,14.61 19.5,14 20,13.72V13.73C20.6,13.39 21,12.74 21,12A2,2 0 0,0 19,10H17Z",4,"ngIf"],["fill","currentColor","d","M17.75,4.09L15.22,6.03L16.13,9.09L13.5,7.28L10.87,9.09L11.78,6.03L9.25,4.09L12.44,4L13.5,1L14.56,4L17.75,4.09M21.25,11L19.61,12.25L20.2,14.23L18.5,13.06L16.8,14.23L17.39,12.25L15.75,11L17.81,10.95L18.5,9L19.19,10.95L21.25,11M18.97,15.95C19.8,15.87 20.69,17.05 20.16,17.8C19.84,18.25 19.5,18.67 19.08,19.07C15.17,23 8.84,23 4.94,19.07C1.03,15.17 1.03,8.83 4.94,4.93C5.34,4.53 5.76,4.17 6.21,3.85C6.96,3.32 8.14,4.21 8.06,5.04C7.79,7.9 8.75,10.87 10.95,13.06C13.14,15.26 16.1,16.22 18.97,15.95M17.33,17.97C14.5,17.81 11.7,16.64 9.53,14.5C7.36,12.31 6.2,9.5 6.04,6.68C3.23,9.82 3.34,14.64 6.35,17.66C9.37,20.67 14.19,20.78 17.33,17.97Z",4,"ngIf"],["fill","currentColor","d","M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,2L14.39,5.42C13.65,5.15 12.84,5 12,5C11.16,5 10.35,5.15 9.61,5.42L12,2M3.34,7L7.5,6.65C6.9,7.16 6.36,7.78 5.94,8.5C5.5,9.24 5.25,10 5.11,10.79L3.34,7M3.36,17L5.12,13.23C5.26,14 5.53,14.78 5.95,15.5C6.37,16.24 6.91,16.86 7.5,17.37L3.36,17M20.65,7L18.88,10.79C18.74,10 18.47,9.23 18.05,8.5C17.63,7.78 17.1,7.15 16.5,6.64L20.65,7M20.64,17L16.5,17.36C17.09,16.85 17.62,16.22 18.04,15.5C18.46,14.77 18.73,14 18.87,13.21L20.64,17M12,22L9.59,18.56C10.33,18.83 11.14,19 12,19C12.82,19 13.63,18.83 14.37,18.56L12,22Z"],["fill","currentColor","d","M19.19,12.07C19.69,11.54 20,10.82 20,10C20,8.3 18.7,6.84 17,6.84C16.93,6.84 16.86,6.84 16.79,6.85C16.27,4.68 14.34,3 12,3C9.66,3 7.73,4.68 7.21,6.85C7.14,6.84 7.07,6.84 7,6.84C5.3,6.84 4,8.3 4,10C4,10.82 4.31,11.54 4.81,12.07C3.17,12.25 2,13.54 2,15C2,16.65 3.35,18 5,18H19C20.65,18 22,16.65 22,15C22,13.54 20.82,12.25 19.19,12.07M19,16H5C4.45,16 4,15.55 4,15C4,14.45 4.45,14 5,14H6.13C6.76,14 7.29,13.47 7.29,12.83C7.29,12.25 6.88,11.76 6.3,11.7C5.87,11.65 5.53,11.37 5.37,11C5.21,10.57 5.29,10.08 5.62,9.76C5.93,9.45 6.44,9.36 6.87,9.57C7.38,9.82 8.12,9.67 8.29,9.25C8.58,8.58 8.91,7.29 10.17,7.05C11.92,6.72 12.94,7.33 13.29,8.22C13.64,9.1 13.18,10.14 12.79,10.8C12.5,11.29 12.56,11.85 12.77,12.26C13.04,12.79 13.62,13 14.2,13H19C19.55,13 20,13.45 20,14C20,14.55 19.55,15 19,15"],["fill","currentColor","d","M9,12C9.53,12.14 9.85,12.69 9.71,13.22L8.41,18.05C8.27,18.59 7.72,18.9 7.19,18.76C6.65,18.62 6.34,18.07 6.5,17.54L7.78,12.71C7.93,12.17 8.47,11.86 9,12M13,12C13.53,12.14 13.85,12.69 13.71,13.22L11.64,20.95C11.5,21.5 10.95,21.8 10.41,21.66C9.88,21.5 9.56,20.97 9.7,20.43L11.78,12.71C11.93,12.17 12.47,11.86 13,12M17,12C17.53,12.14 17.85,12.69 17.71,13.22L16.41,18.05C16.27,18.59 15.72,18.9 15.19,18.76C14.65,18.62 14.34,18.07 14.5,17.54L15.78,12.71C15.93,12.17 16.47,11.86 17,12M17,10V9A5,5 0 0,0 12,4C9.5,4 7.45,5.82 7.06,8.19C6.73,8.07 6.37,8 6,8A3,3 0 0,0 3,11C3,12.11 3.6,13.08 4.5,13.6V13.59C5,13.87 5.14,14.5 4.87,14.96C4.59,15.43 4,15.6 3.5,15.32V15.33C2,14.47 1,12.85 1,11A5,5 0 0,1 6,6C7,3.65 9.3,2 12,2C15.43,2 18.24,4.66 18.5,8.03L19,8A4,4 0 0,1 23,12C23,13.5 22.2,14.77 21,15.46V15.46C20.5,15.73 19.91,15.57 19.63,15.09C19.36,14.61 19.5,14 20,13.72V13.73C20.6,13.39 21,12.74 21,12A2,2 0 0,0 19,10H17Z"],["fill","currentColor","d","M17.75,4.09L15.22,6.03L16.13,9.09L13.5,7.28L10.87,9.09L11.78,6.03L9.25,4.09L12.44,4L13.5,1L14.56,4L17.75,4.09M21.25,11L19.61,12.25L20.2,14.23L18.5,13.06L16.8,14.23L17.39,12.25L15.75,11L17.81,10.95L18.5,9L19.19,10.95L21.25,11M18.97,15.95C19.8,15.87 20.69,17.05 20.16,17.8C19.84,18.25 19.5,18.67 19.08,19.07C15.17,23 8.84,23 4.94,19.07C1.03,15.17 1.03,8.83 4.94,4.93C5.34,4.53 5.76,4.17 6.21,3.85C6.96,3.32 8.14,4.21 8.06,5.04C7.79,7.9 8.75,10.87 10.95,13.06C13.14,15.26 16.1,16.22 18.97,15.95M17.33,17.97C14.5,17.81 11.7,16.64 9.53,14.5C7.36,12.31 6.2,9.5 6.04,6.68C3.23,9.82 3.34,14.64 6.35,17.66C9.37,20.67 14.19,20.78 17.33,17.97Z"],[1,"status-item","error"]],template:function(i,n){i&1&&h(0,Z,7,5,"p",0)(1,B,2,0,"p",0)(2,O,2,1,"p",1),i&2&&(s("ngIf",!n.loading&&!n.error),a(),s("ngIf",n.loading),a(),s("ngIf",n.error))},dependencies:[f,M],encapsulation:2})}}return t})();var E=(()=>{class t{constructor(e){this.http=e,this.apiUrl=I.discordApiUrl}getPresence(){return this.http.get(`${this.apiUrl}/presence`)}getActivity(){return this.http.get(`${this.apiUrl}/activity`)}static{this.\u0275fac=function(i){return new(i||t)(L(x))}}static{this.\u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function N(t,p){if(t&1&&(r(0,"span"),l(1),o()),t&2){let e=m(2);a(),_(" ",e.getStatusText()," ")}}function R(t,p){if(t&1&&(r(0,"p",2),C(),r(1,"svg",3),c(2,"path",4),o(),h(3,N,2,1,"span",5),o()),t&2){let e=m();a(3),s("ngIf",e.presence)}}function q(t,p){t&1&&(r(0,"p",2),l(1,"Loading Discord status..."),o())}function J(t,p){if(t&1&&(r(0,"p",6),l(1),o()),t&2){let e=m();a(),v(e.error)}}var H=(()=>{class t{constructor(e){this.discordService=e,this.presence=null,this.activities=[],this.loading=!0,this.error=null,this.updateSubscription=null}ngOnInit(){this.getPresenceAndActivity(),this.updateSubscription=S(3e4).subscribe(()=>{this.getPresenceAndActivity()})}ngOnDestroy(){this.updateSubscription&&this.updateSubscription.unsubscribe()}getPresenceAndActivity(){this.getPresence(),this.getActivity()}getPresence(){this.discordService.getPresence().subscribe({next:e=>{this.presence=e,this.loading=!1},error:e=>{this.error="Failed to load Discord presence",this.loading=!1,console.error("Discord presence error:",e)}})}getActivity(){this.discordService.getActivity().subscribe({next:e=>{this.activities=e},error:e=>{console.error("Discord activity error:",e)}})}getStatusText(){if(!this.presence)return"";let e=this.presence.status,i="";switch(e){case"online":i="Online";break;case"idle":i="Idle";break;case"dnd":i="Do Not Disturb";break;case"offline":i="Offline";break;default:i="Unknown"}if(this.activities&&this.activities.length>0){let n=this.activities[0];i+=` \u2014 ${n.name}`,n.details&&(i+=`: ${n.details}`)}return i}formatTimestamp(e){if(!e)return"";let i=typeof e=="string"?new Date(e):new Date(e),n=Math.floor((Date.now()-i.getTime())/6e4);return n<60?n===0?"just now":`${n} minute${n===1?"":"s"} ago`:i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}static{this.\u0275fac=function(i){return new(i||t)(g(E))}}static{this.\u0275cmp=d({type:t,selectors:[["app-discord-status"]],decls:3,vars:3,consts:[["class","status-item",4,"ngIf"],["class","status-item error",4,"ngIf"],[1,"status-item"],["viewBox","0 0 24 24","width","24","height","24",1,"icon"],["fill","currentColor","d","M22,24L16.75,19L17.38,21H4.5A2.5,2.5 0 0,1 2,18.5V3.5A2.5,2.5 0 0,1 4.5,1H19.5A2.5,2.5 0 0,1 22,3.5V24M12,6.8C9.32,6.8 7.44,7.95 7.44,7.95C8.47,7.03 10.27,6.5 10.27,6.5L10.1,6.33C8.41,6.36 6.88,7.53 6.88,7.53C5.16,11.12 5.27,14.22 5.27,14.22C6.67,16.03 8.75,15.9 8.75,15.9L9.46,15C8.21,14.73 7.42,13.62 7.42,13.62C7.42,13.62 9.3,14.9 12,14.9C14.7,14.9 16.58,13.62 16.58,13.62C16.58,13.62 15.79,14.73 14.54,15L15.25,15.9C15.25,15.9 17.33,16.03 18.73,14.22C18.73,14.22 18.84,11.12 17.12,7.53C17.12,7.53 15.59,6.36 13.9,6.33L13.73,6.5C13.73,6.5 15.53,7.03 16.56,7.95C16.56,7.95 14.68,6.8 12,6.8M9.93,10.59C10.58,10.59 11.11,11.16 11.1,11.86C11.1,12.55 10.58,13.13 9.93,13.13C9.29,13.13 8.77,12.55 8.77,11.86C8.77,11.16 9.28,10.59 9.93,10.59M14.1,10.59C14.75,10.59 15.27,11.16 15.27,11.86C15.27,12.55 14.75,13.13 14.1,13.13C13.46,13.13 12.94,12.55 12.94,11.86C12.94,11.16 13.45,10.59 14.1,10.59Z"],[4,"ngIf"],[1,"status-item","error"]],template:function(i,n){i&1&&h(0,R,4,1,"p",0)(1,q,2,0,"p",0)(2,J,2,1,"p",1),i&2&&(s("ngIf",!n.loading&&!n.error),a(),s("ngIf",n.loading),a(),s("ngIf",n.error))},dependencies:[f,M],encapsulation:2})}}return t})();var l1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=d({type:t,selectors:[["app-home"]],decls:10,vars:0,consts:[[1,"status-section"],["username","mxxnpy"]],template:function(i,n){i&1&&(r(0,"div")(1,"div",0),c(2,"app-clock")(3,"app-weather"),o(),r(4,"div",0),c(5,"app-spotify-player"),o(),r(6,"div",0),c(7,"app-github-contributions",1),o(),r(8,"div",0),c(9,"app-discord-status"),o()())},dependencies:[f,b,V,D,H,T],encapsulation:2})}}return t})();export{l1 as HomeComponent};
